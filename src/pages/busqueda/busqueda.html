<ion-header>
  <ion-navbar>
    <ion-buttons left>
      <button ion-button icon-only (click)="takeMeBack()">
        <ion-icon name="arrow-back"></ion-icon>
      </button>
    </ion-buttons>
    <ion-title>
      Búsqueda en iTunes
    </ion-title>
  </ion-navbar>
</ion-header>

<ion-content>
  <ion-searchbar animated="true" [(ngModel)]="termino" (search)="buscar($event)" placeholder="Introduce canción ...">
  </ion-searchbar>

  <ion-toolbar>
    <ion-segment [(ngModel)]="selectedSegment" (ionChange)="onSegmentChanged($event)">
      <ion-segment-button value="cards">
        CARDS
      </ion-segment-button>
      <ion-segment-button value="cubos">
        CUBOS
      </ion-segment-button>
      <ion-segment-button value="desliz">
        DESLIZ
      </ion-segment-button>
    </ion-segment>
  </ion-toolbar>
  <ion-slides #mySlider (ionSlideDidChange)="cambioSlide(slide)">
    <ion-slide *ngFor="let slide of slides">
      <div *ngIf="(selectedSegment=='cubos')">
        cubos seleccionando
        <div *ngIf="lista_canciones">
          <ion-slides effect="cube" pager="true" paginationType="fraction" loop="true" slidesPerView="1" style="background-color:aqua">
            <ion-slide *ngFor="let unacancion of lista_canciones">
              <h3>{{unacancion.artistName}}</h3>
              <h3>{{unacancion.trackName}} </h3>
              <h4> {{unacancion.trackPrice}} {{unacancion.currency}}</h4>
              <img data-src="{{unacancion.artworkUrl100}}">
              <audio src="{{unacancion.previewUrl}}" controls="true"></audio>
            </ion-slide>
          </ion-slides>
        </div>
      </div>
      <div *ngIf="(selectedSegment=='desliz')">
        desliz seleccionando
      </div>
      <div *ngIf="(selectedSegment=='cards')">
        cards seleccionando
        <div *ngIf="lista_canciones">
            <div *ngFor="let cancion of lista_canciones">
                <hr>
                <ion-card>
                  <img src="{{cancion.artworkUrl100}}" alt="Portada" width="100px">
                  <ion-card-content>
                    <ion-card-title>
                      {{cancion.artistName}}: {{cancion.trackName}}
                    </ion-card-title>
                    <p>
                      <audio src="{{cancion.previewUrl}}" controls></audio> <br>
                      Id: {{cancion.trackId}} <br>
                      Precio: {{cancion.trackPrice}} {{cancion.currency}}
                    </p>
                  </ion-card-content>
                 </ion-card>
            </div>
        </div>
      </div>
    </ion-slide>
  </ion-slides>
</ion-content>